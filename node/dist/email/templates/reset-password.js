!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("fs"),require("util"),require("url"),require("path")):"function"==typeof define&&define.amd?define(["fs","util","url","path"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["joystick-node"]=t(e.require$$2$1,e.require$$0,e.require$$1,e.require$$2)}(this,(function(e,t,n,r){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(e),s=o(t),a=o(n),u=o(r),c=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{exports:{}}),l={},p=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function h(e){return e?e.replace(/^\s+|\s+$/g,""):""}function f(e,t){var n=e&&"string"==typeof e.type,r=n?e:t;for(var o in e){var i=e[o];Array.isArray(i)?i.forEach((function(e){f(e,r)})):i&&"object"==typeof i&&f(i,r)}return n&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),e}var d=m;function m(e){this.options=e||{}}m.prototype.emit=function(e){return e},m.prototype.visit=function(e){return this[e.type](e)},m.prototype.mapVisit=function(e,t){var n="";t=t||"";for(var r=0,o=e.length;r<o;r++)n+=this.visit(e[r]),t&&r<o-1&&(n+=this.emit(t));return n};var g={exports:{}},y={exports:{}};"function"==typeof Object.create?y.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:y.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};try{var v=s.default;if("function"!=typeof v.inherits)throw"";g.exports=v.inherits}catch(e){g.exports=y.exports}var _=d,C=S;function S(e){_.call(this,e)}(0,g.exports)(S,_),S.prototype.compile=function(e){return e.stylesheet.rules.map(this.visit,this).join("")},S.prototype.comment=function(e){return this.emit("",e.position)},S.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)},S.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},S.prototype.document=function(e){var t="@"+(e.vendor||"")+"document "+e.document;return this.emit(t,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},S.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)},S.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)},S.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},S.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit("{")+this.mapVisit(e.keyframes)+this.emit("}")},S.prototype.keyframe=function(e){var t=e.declarations;return this.emit(e.values.join(","),e.position)+this.emit("{")+this.mapVisit(t)+this.emit("}")},S.prototype.page=function(e){var t=e.selectors.length?e.selectors.join(", "):"";return this.emit("@page "+t,e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")},S.prototype["font-face"]=function(e){return this.emit("@font-face",e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")},S.prototype.host=function(e){return this.emit("@host",e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},S.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)},S.prototype.rule=function(e){var t=e.declarations;return t.length?this.emit(e.selectors.join(","),e.position)+this.emit("{")+this.mapVisit(t)+this.emit("}"):""},S.prototype.declaration=function(e){return this.emit(e.property+":"+e.value,e.position)+this.emit(";")};var b=d,M=A;function A(e){e=e||{},b.call(this,e),this.indentation=e.indent}(0,g.exports)(A,b),A.prototype.compile=function(e){return this.stylesheet(e)},A.prototype.stylesheet=function(e){return this.mapVisit(e.stylesheet.rules,"\n\n")},A.prototype.comment=function(e){return this.emit(this.indent()+"/*"+e.comment+"*/",e.position)},A.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)},A.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},A.prototype.document=function(e){var t="@"+(e.vendor||"")+"document "+e.document;return this.emit(t,e.position)+this.emit("  {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},A.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)},A.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)},A.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},A.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.keyframes,"\n")+this.emit(this.indent(-1)+"}")},A.prototype.keyframe=function(e){var t=e.declarations;return this.emit(this.indent())+this.emit(e.values.join(", "),e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(t,"\n")+this.emit(this.indent(-1)+"\n"+this.indent()+"}\n")},A.prototype.page=function(e){var t=e.selectors.length?e.selectors.join(", ")+" ":"";return this.emit("@page "+t,e.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(e.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},A.prototype["font-face"]=function(e){return this.emit("@font-face ",e.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(e.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},A.prototype.host=function(e){return this.emit("@host",e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},A.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)},A.prototype.rule=function(e){var t=this.indent(),n=e.declarations;return n.length?this.emit(e.selectors.map((function(e){return t+e})).join(",\n"),e.position)+this.emit(" {\n")+this.emit(this.indent(1))+this.mapVisit(n,"\n")+this.emit(this.indent(-1))+this.emit("\n"+this.indent()+"}"):""},A.prototype.declaration=function(e){return this.emit(this.indent())+this.emit(e.property+": "+e.value,e.position)+this.emit(";")},A.prototype.indent=function(e){return this.level=this.level||1,null!=e?(this.level+=e,""):Array(this.level).join(this.indentation||"  ")};var w={exports:{}},L={},O={},R={},E={},j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");E.encode=function(e){if(0<=e&&e<j.length)return j[e];throw new TypeError("Must be between 0 and 63: "+e)},E.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};var T=E;R.encode=function(e){var t,n="",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&r,(r>>>=5)>0&&(t|=32),n+=T.encode(t)}while(r>0);return n},R.decode=function(e,t,n){var r,o,i,s,a=e.length,u=0,c=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=T.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&o),u+=(o&=31)<<c,c+=5}while(r);n.value=(s=(i=u)>>1,1==(1&i)?-s:s),n.rest=t};var x={};!function(e){e.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function r(e){var n=e.match(t);return n?{scheme:n[1],auth:n[2],host:n[3],port:n[4],path:n[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function i(t){var n=t,i=r(t);if(i){if(!i.path)return t;n=i.path}for(var s,a=e.isAbsolute(n),u=n.split(/\/+/),c=0,l=u.length-1;l>=0;l--)"."===(s=u[l])?u.splice(l,1):".."===s?c++:c>0&&(""===s?(u.splice(l+1,c),c=0):(u.splice(l,2),c--));return""===(n=u.join("/"))&&(n=a?"/":"."),i?(i.path=n,o(i)):n}function s(e,t){""===e&&(e="."),""===t&&(t=".");var s=r(t),a=r(e);if(a&&(e=a.path||"/"),s&&!s.scheme)return a&&(s.scheme=a.scheme),o(s);if(s||t.match(n))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var u="/"===t.charAt(0)?t:i(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=u,o(a)):u}e.urlParse=r,e.urlGenerate=o,e.normalize=i,e.join=s,e.isAbsolute=function(e){return"/"===e.charAt(0)||t.test(e)},e.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function u(e){return e}function c(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function l(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}e.toSetString=a?u:function(e){return c(e)?"$"+e:e},e.fromSetString=a?u:function(e){return c(e)?e.slice(1):e},e.compareByOriginalPositions=function(e,t,n){var r=l(e.source,t.source);return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:l(e.name,t.name)},e.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=l(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:l(e.name,t.name)},e.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=l(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)},e.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var a=r(n);if(!a)throw new Error("sourceMapURL could not be parsed");if(a.path){var u=a.path.lastIndexOf("/");u>=0&&(a.path=a.path.substring(0,u+1))}t=s(o(a),t)}return i(t)}}(x);var k={},P=x,U=Object.prototype.hasOwnProperty,$="undefined"!=typeof Map;function I(){this._array=[],this._set=$?new Map:Object.create(null)}I.fromArray=function(e,t){for(var n=new I,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},I.prototype.size=function(){return $?this._set.size:Object.getOwnPropertyNames(this._set).length},I.prototype.add=function(e,t){var n=$?e:P.toSetString(e),r=$?this.has(e):U.call(this._set,n),o=this._array.length;r&&!t||this._array.push(e),r||($?this._set.set(e,o):this._set[n]=o)},I.prototype.has=function(e){if($)return this._set.has(e);var t=P.toSetString(e);return U.call(this._set,t)},I.prototype.indexOf=function(e){if($){var t=this._set.get(e);if(t>=0)return t}else{var n=P.toSetString(e);if(U.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},I.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},I.prototype.toArray=function(){return this._array.slice()},k.ArraySet=I;var N={},B=x;function D(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}D.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},D.prototype.add=function(e){var t,n,r,o,i,s;t=this._last,n=e,r=t.generatedLine,o=n.generatedLine,i=t.generatedColumn,s=n.generatedColumn,o>r||o==r&&s>=i||B.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},D.prototype.toArray=function(){return this._sorted||(this._array.sort(B.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},N.MappingList=D;var G=R,F=x,V=k.ArraySet,q=N.MappingList;function z(e){e||(e={}),this._file=F.getArg(e,"file",null),this._sourceRoot=F.getArg(e,"sourceRoot",null),this._skipValidation=F.getArg(e,"skipValidation",!1),this._sources=new V,this._names=new V,this._mappings=new q,this._sourcesContents=null}z.prototype._version=3,z.fromSourceMap=function(e){var t=e.sourceRoot,n=new z({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=F.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var o=r;null!==t&&(o=F.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)})),n},z.prototype.addMapping=function(e){var t=F.getArg(e,"generated"),n=F.getArg(e,"original",null),r=F.getArg(e,"source",null),o=F.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},z.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=F.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[F.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[F.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},z.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var o=this._sourceRoot;null!=o&&(r=F.relative(o,r));var i=new V,s=new V;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=n&&(t.source=F.join(n,t.source)),null!=o&&(t.source=F.relative(o,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var u=t.source;null==u||i.has(u)||i.add(u);var c=t.name;null==c||s.has(c)||s.add(c)}),this),this._sources=i,this._names=s,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=F.join(n,t)),null!=o&&(t=F.relative(o,t)),this.setSourceContent(t,r))}),this)},z.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},z.prototype._serializeMappings=function(){for(var e,t,n,r,o=0,i=1,s=0,a=0,u=0,c=0,l="",p=this._mappings.toArray(),h=0,f=p.length;h<f;h++){if(e="",(t=p[h]).generatedLine!==i)for(o=0;t.generatedLine!==i;)e+=";",i++;else if(h>0){if(!F.compareByGeneratedPositionsInflated(t,p[h-1]))continue;e+=","}e+=G.encode(t.generatedColumn-o),o=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=G.encode(r-c),c=r,e+=G.encode(t.originalLine-1-a),a=t.originalLine-1,e+=G.encode(t.originalColumn-s),s=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=G.encode(n-u),u=n)),l+=e}return l},z.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=F.relative(t,e));var n=F.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},z.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},z.prototype.toString=function(){return JSON.stringify(this.toJSON())},O.SourceMapGenerator=z;var H={},W={};!function(e){function t(n,r,o,i,s,a){var u=Math.floor((r-n)/2)+n,c=s(o,i[u],!0);return 0===c?u:c>0?r-u>1?t(u,r,o,i,s,a):a==e.LEAST_UPPER_BOUND?r<i.length?r:-1:u:u-n>1?t(n,u,o,i,s,a):a==e.LEAST_UPPER_BOUND?u:n<0?-1:n}e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(n,r,o,i){if(0===r.length)return-1;var s=t(-1,r.length,n,r,o,i||e.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===o(r[s],r[s-1],!0);)--s;return s}}(W);var J={};function Q(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function K(e,t,n,r){if(n<r){var o=n-1;Q(e,(u=n,c=r,Math.round(u+Math.random()*(c-u))),r);for(var i=e[r],s=n;s<r;s++)t(e[s],i)<=0&&Q(e,o+=1,s);Q(e,o+1,s);var a=o+1;K(e,t,n,a-1),K(e,t,a+1,r)}var u,c}J.quickSort=function(e,t){K(e,t,0,e.length-1)};var X=x,Y=W,Z=k.ArraySet,ee=R,te=J.quickSort;function ne(e,t){var n=e;return"string"==typeof e&&(n=X.parseSourceMapInput(e)),null!=n.sections?new ie(n,t):new re(n,t)}function re(e,t){var n=e;"string"==typeof e&&(n=X.parseSourceMapInput(e));var r=X.getArg(n,"version"),o=X.getArg(n,"sources"),i=X.getArg(n,"names",[]),s=X.getArg(n,"sourceRoot",null),a=X.getArg(n,"sourcesContent",null),u=X.getArg(n,"mappings"),c=X.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);s&&(s=X.normalize(s)),o=o.map(String).map(X.normalize).map((function(e){return s&&X.isAbsolute(s)&&X.isAbsolute(e)?X.relative(s,e):e})),this._names=Z.fromArray(i.map(String),!0),this._sources=Z.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map((function(e){return X.computeSourceURL(s,e,t)})),this.sourceRoot=s,this.sourcesContent=a,this._mappings=u,this._sourceMapURL=t,this.file=c}function oe(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function ie(e,t){var n=e;"string"==typeof e&&(n=X.parseSourceMapInput(e));var r=X.getArg(n,"version"),o=X.getArg(n,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new Z,this._names=new Z;var i={line:-1,column:0};this._sections=o.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=X.getArg(e,"offset"),r=X.getArg(n,"line"),o=X.getArg(n,"column");if(r<i.line||r===i.line&&o<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=n,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new ne(X.getArg(e,"map"),t)}}))}ne.fromSourceMap=function(e,t){return re.fromSourceMap(e,t)},ne.prototype._version=3,ne.prototype.__generatedMappings=null,Object.defineProperty(ne.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),ne.prototype.__originalMappings=null,Object.defineProperty(ne.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),ne.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},ne.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},ne.GENERATED_ORDER=1,ne.ORIGINAL_ORDER=2,ne.GREATEST_LOWER_BOUND=1,ne.LEAST_UPPER_BOUND=2,ne.prototype.eachMapping=function(e,t,n){var r,o=t||null;switch(n||ne.GENERATED_ORDER){case ne.GENERATED_ORDER:r=this._generatedMappings;break;case ne.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;r.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=X.computeSourceURL(i,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},ne.prototype.allGeneratedPositionsFor=function(e){var t=X.getArg(e,"line"),n={source:X.getArg(e,"source"),originalLine:t,originalColumn:X.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var r=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",X.compareByOriginalPositions,Y.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var s=i.originalLine;i&&i.originalLine===s;)r.push({line:X.getArg(i,"generatedLine",null),column:X.getArg(i,"generatedColumn",null),lastColumn:X.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var a=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==a;)r.push({line:X.getArg(i,"generatedLine",null),column:X.getArg(i,"generatedColumn",null),lastColumn:X.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return r},H.SourceMapConsumer=ne,re.prototype=Object.create(ne.prototype),re.prototype.consumer=ne,re.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=X.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},re.fromSourceMap=function(e,t){var n=Object.create(re.prototype),r=n._names=Z.fromArray(e._names.toArray(),!0),o=n._sources=Z.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return X.computeSourceURL(n.sourceRoot,e,t)}));for(var i=e._mappings.toArray().slice(),s=n.__generatedMappings=[],a=n.__originalMappings=[],u=0,c=i.length;u<c;u++){var l=i[u],p=new oe;p.generatedLine=l.generatedLine,p.generatedColumn=l.generatedColumn,l.source&&(p.source=o.indexOf(l.source),p.originalLine=l.originalLine,p.originalColumn=l.originalColumn,l.name&&(p.name=r.indexOf(l.name)),a.push(p)),s.push(p)}return te(n.__originalMappings,X.compareByOriginalPositions),n},re.prototype._version=3,Object.defineProperty(re.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),re.prototype._parseMappings=function(e,t){for(var n,r,o,i,s,a=1,u=0,c=0,l=0,p=0,h=0,f=e.length,d=0,m={},g={},y=[],v=[];d<f;)if(";"===e.charAt(d))a++,d++,u=0;else if(","===e.charAt(d))d++;else{for((n=new oe).generatedLine=a,i=d;i<f&&!this._charIsMappingSeparator(e,i);i++);if(o=m[r=e.slice(d,i)])d+=r.length;else{for(o=[];d<i;)ee.decode(e,d,g),s=g.value,d=g.rest,o.push(s);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");m[r]=o}n.generatedColumn=u+o[0],u=n.generatedColumn,o.length>1&&(n.source=p+o[1],p+=o[1],n.originalLine=c+o[2],c=n.originalLine,n.originalLine+=1,n.originalColumn=l+o[3],l=n.originalColumn,o.length>4&&(n.name=h+o[4],h+=o[4])),v.push(n),"number"==typeof n.originalLine&&y.push(n)}te(v,X.compareByGeneratedPositionsDeflated),this.__generatedMappings=v,te(y,X.compareByOriginalPositions),this.__originalMappings=y},re.prototype._findMapping=function(e,t,n,r,o,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return Y.search(e,t,o,i)},re.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},re.prototype.originalPositionFor=function(e){var t={generatedLine:X.getArg(e,"line"),generatedColumn:X.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",X.compareByGeneratedPositionsDeflated,X.getArg(e,"bias",ne.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var o=X.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),o=X.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var i=X.getArg(r,"name",null);return null!==i&&(i=this._names.at(i)),{source:o,line:X.getArg(r,"originalLine",null),column:X.getArg(r,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},re.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},re.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var r,o=e;if(null!=this.sourceRoot&&(o=X.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(r=X.urlParse(this.sourceRoot))){var i=o.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!r.path||"/"==r.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},re.prototype.generatedPositionFor=function(e){var t=X.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:X.getArg(e,"line"),originalColumn:X.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",X.compareByOriginalPositions,X.getArg(e,"bias",ne.GREATEST_LOWER_BOUND));if(r>=0){var o=this._originalMappings[r];if(o.source===n.source)return{line:X.getArg(o,"generatedLine",null),column:X.getArg(o,"generatedColumn",null),lastColumn:X.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},H.BasicSourceMapConsumer=re,ie.prototype=Object.create(ne.prototype),ie.prototype.constructor=ne,ie.prototype._version=3,Object.defineProperty(ie.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),ie.prototype.originalPositionFor=function(e){var t={generatedLine:X.getArg(e,"line"),generatedColumn:X.getArg(e,"column")},n=Y.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},ie.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},ie.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},ie.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(X.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},ie.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,i=0;i<o.length;i++){var s=o[i],a=r.consumer._sources.at(s.source);a=X.computeSourceURL(r.consumer.sourceRoot,a,this._sourceMapURL),this._sources.add(a),a=this._sources.indexOf(a);var u=null;s.name&&(u=r.consumer._names.at(s.name),this._names.add(u),u=this._names.indexOf(u));var c={source:a,generatedLine:s.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(r.generatedOffset.generatedLine===s.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:u};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}te(this.__generatedMappings,X.compareByGeneratedPositionsDeflated),te(this.__originalMappings,X.compareByOriginalPositions)},H.IndexedSourceMapConsumer=ie;var se={},ae=O.SourceMapGenerator,ue=x,ce=/(\r?\n)/,le="$$$isSourceNode$$$";function pe(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[le]=!0,null!=r&&this.add(r)}function he(e){return Buffer.from(e,"base64").toString("binary")}pe.fromStringWithSourceMap=function(e,t,n){var r=new pe,o=e.split(ce),i=0,s=function(){return e()+(e()||"");function e(){return i<o.length?o[i++]:void 0}},a=1,u=0,c=null;return t.eachMapping((function(e){if(null!==c){if(!(a<e.generatedLine)){var t=(n=o[i]||"").substr(0,e.generatedColumn-u);return o[i]=n.substr(e.generatedColumn-u),u=e.generatedColumn,l(c,t),void(c=e)}l(c,s()),a++,u=0}for(;a<e.generatedLine;)r.add(s()),a++;if(u<e.generatedColumn){var n=o[i]||"";r.add(n.substr(0,e.generatedColumn)),o[i]=n.substr(e.generatedColumn),u=e.generatedColumn}c=e}),this),i<o.length&&(c&&l(c,s()),r.add(o.splice(i).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=ue.join(n,e)),r.setSourceContent(e,o))})),r;function l(e,t){if(null===e||void 0===e.source)r.add(t);else{var o=n?ue.join(n,e.source):e.source;r.add(new pe(e.originalLine,e.originalColumn,o,t,e.name))}}},pe.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[le]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},pe.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[le]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},pe.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[le]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},pe.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},pe.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[le]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},pe.prototype.setSourceContent=function(e,t){this.sourceContents[ue.toSetString(e)]=t},pe.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][le]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(ue.fromSetString(r[t]),this.sourceContents[r[t]])},pe.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},pe.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new ae(e),r=!1,o=null,i=null,s=null,a=null;return this.walk((function(e,u){t.code+=e,null!==u.source&&null!==u.line&&null!==u.column?(o===u.source&&i===u.line&&s===u.column&&a===u.name||n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:t.line,column:t.column},name:u.name}),o=u.source,i=u.line,s=u.column,a=u.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,r=!1);for(var c=0,l=e.length;c<l;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===l?(o=null,r=!1):r&&n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:t.line,column:t.column},name:u.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},se.SourceNode=pe,L.SourceMapGenerator=O.SourceMapGenerator,L.SourceMapConsumer=H.SourceMapConsumer,L.SourceNode=se.SourceNode;var fe=he.atob=he,de="%[a-f0-9]{2}",me=new RegExp(de,"gi"),ge=new RegExp("("+de+")+","gi");function ye(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],ye(n),ye(r))}function ve(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(me),n=1;n<t.length;n++)t=(e=ye(t,n).join("")).match(me);return e}}var _e=fe,Ce=a.default,Se=u.default,be=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=ge.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=ve(n[0]);r!==n[0]&&(t[n[0]]=r)}n=ge.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),i=0;i<o.length;i++){var s=o[i];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}};function Me(){return Array.prototype.reduce.call(arguments,(function(e,t){return Ce.resolve(e,t)}))}function Ae(e){return"\\"===Se.sep?e.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):e}function we(e){return be(e.replace(/\+/g,"%2B"))}function Le(e,t,n){setImmediate((function(){e(t,n)}))}function Oe(e,t){try{return JSON.parse(e.replace(/^\)\]\}'/,""))}catch(e){throw e.sourceMapData=t,e}}function Re(e,t,n){var r=we(t);try{return String(e(r))}catch(e){throw e.sourceMapData=n,e}}var Ee=/[#@] sourceMappingURL=([^\s'"]*)/,je=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+Ee.source+")\\s*\\*/|//(?:"+Ee.source+"))\\s*");function Te(e,t,n,r){var o;try{o=$e(e,t)}catch(e){return Le(r,e)}if(!o||o.map)return Le(r,null,o);n(we(o.url),(function(e,t){if(e)return e.sourceMapData=o,r(e);o.map=String(t);try{o.map=Oe(o.map,o)}catch(e){return r(e)}r(null,o)}))}function xe(e,t,n){var r=$e(e,t);return!r||r.map||(r.map=Re(n,r.url,r),r.map=Oe(r.map,r)),r}var ke=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,Pe=/^(?:application|text)\/json$/;function Ue(e){if("undefined"==typeof TextDecoder||"undefined"==typeof Uint8Array)return _e(e);var t=function(e){for(var t=_e(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}(e);return new TextDecoder("utf-8",{fatal:!0}).decode(t)}function $e(e,t){t=Ae(t);var n=function(e){var t=e.match(je);return t?t[1]||t[2]||"":null}(e);if(!n)return null;var r=n.match(ke);if(r){var o=r[1]||"text/plain",i=r[2]||"",s=r[3]||"",a={sourceMappingURL:n,url:null,sourcesRelativeTo:t,map:s};if(!Pe.test(o)){var u=new Error("Unuseful data uri mime type: "+o);throw u.sourceMapData=a,u}try{a.map=Oe(";base64"===i?Ue(s):decodeURIComponent(s),a)}catch(u){throw u.sourceMapData=a,u}return a}var c=Me(t,n);return{sourceMappingURL:n,url:c,sourcesRelativeTo:c,map:null}}function Ie(e,t,n,r,o){"function"==typeof r&&(o=r,r={});var i=e.sources?e.sources.length:0,s={sourcesResolved:[],sourcesContent:[]};if(0!==i){var a=function(){0===--i&&o(null,s)};De(e,t,r,(function(e,t,r){if(s.sourcesResolved[r]=e,"string"==typeof t)s.sourcesContent[r]=t,Le(a,null);else{var o=we(e);n(o,(function(e,t){s.sourcesContent[r]=e||String(t),a()}))}}))}else Le(o,null,s)}function Ne(e,t,n,r){var o={sourcesResolved:[],sourcesContent:[]};return e.sources&&0!==e.sources.length?(De(e,t,r,(function(e,t,r){if(o.sourcesResolved[r]=e,null!==n)if("string"==typeof t)o.sourcesContent[r]=t;else{var i=we(e);try{o.sourcesContent[r]=String(n(i))}catch(e){o.sourcesContent[r]=e}}})),o):o}var Be=/\/?$/;function De(e,t,n,r){var o;n=n||{},t=Ae(t);for(var i=0,s=e.sources.length;i<s;i++)o=null,"string"==typeof n.sourceRoot?o=n.sourceRoot:"string"==typeof e.sourceRoot&&!1!==n.sourceRoot&&(o=e.sourceRoot),r(null===o||""===o?Me(t,e.sources[i]):Me(t,o.replace(Be,"/"),e.sources[i]),(e.sourcesContent||[])[i],i)}var Ge={resolveSourceMap:Te,resolveSourceMapSync:xe,resolveSources:Ie,resolveSourcesSync:Ne,resolve:function(e,t,n,r,o){if("function"==typeof r&&(o=r,r={}),null===e){var i={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null},s=we(t);n(s,(function(e,t){if(e)return e.sourceMapData=i,o(e);i.map=String(t);try{i.map=Oe(i.map,i)}catch(e){return o(e)}a(i)}))}else Te(e,t,n,(function(e,t){return e?o(e):t?void a(t):o(null,null)}));function a(e){Ie(e.map,e.sourcesRelativeTo,n,r,(function(t,n){if(t)return o(t);e.sourcesResolved=n.sourcesResolved,e.sourcesContent=n.sourcesContent,o(null,e)}))}},resolveSync:function(e,t,n,r){var o;if(null===e){(o={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null}).map=Re(n,t,o),o.map=Oe(o.map,o)}else if(!(o=xe(e,t,n)))return null;var i=Ne(o.map,o.sourcesRelativeTo,n,r);return o.sourcesResolved=i.sourcesResolved,o.sourcesContent=i.sourcesContent,o},parseMapToJSON:Oe};!function(e,t){var n=L.SourceMapGenerator,r=L.SourceMapConsumer,o=Ge,s=i.default,a=u.default;e.exports=function(e){for(var r in e._comment=e.comment,e.map=new n,e.position={line:1,column:1},e.files={},t)e[r]=t[r]};const c=function(e){return"\\"===a.sep?e.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):e};t.updatePosition=function(e){var t=e.match(/\n/g);t&&(this.position.line+=t.length);var n=e.lastIndexOf("\n");this.position.column=~n?e.length-n:this.position.column+e.length},t.emit=function(e,t){if(t){var n=c(t.source||"source.css");this.map.addMapping({source:n,generated:{line:this.position.line,column:Math.max(this.position.column-1,0)},original:{line:t.start.line,column:t.start.column-1}}),this.addFile(n,t)}return this.updatePosition(e),e},t.addFile=function(e,t){"string"==typeof t.content&&(Object.prototype.hasOwnProperty.call(this.files,e)||(this.files[e]=t.content))},t.applySourceMaps=function(){Object.keys(this.files).forEach((function(e){var t=this.files[e];if(this.map.setSourceContent(e,t),!1!==this.options.inputSourcemaps){var n=o.resolveSync(t,e,s.readFileSync);if(n){var i=new r(n.map),u=n.sourcesRelativeTo;this.map.applySourceMap(i,e,c(a.dirname(u)))}}}),this)},t.comment=function(e){return/^# sourceMappingURL=/.test(e.comment)?this.emit("",e.position):this._comment(e)}}(w,w.exports);var Fe=C,Ve=M;l.parse=function(e,t){t=t||{};var n=1,r=1;function o(e){var t=e.match(/\n/g);t&&(n+=t.length);var o=e.lastIndexOf("\n");r=~o?e.length-o:r+e.length}function i(){var e={line:n,column:r};return function(t){return t.position=new s(e),g(),t}}function s(e){this.start=e,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;var a=[];function u(o){var i=new Error(t.source+":"+n+":"+r+": "+o);if(i.reason=o,i.filename=t.source,i.line=n,i.column=r,i.source=e,!t.silent)throw i;a.push(i)}function c(){return m(/^{\s*/)}function l(){return m(/^}/)}function d(){var t,n=[];for(g(),y(n);e.length&&"}"!=e.charAt(0)&&(t=R()||E());)!1!==t&&(n.push(t),y(n));return n}function m(t){var n=t.exec(e);if(n){var r=n[0];return o(r),e=e.slice(r.length),n}}function g(){m(/^\s*/)}function y(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var t=i();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;""!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,""===e.charAt(n-1))return u("End of comment missing");var s=e.slice(2,n-2);return r+=2,o(s),e=e.slice(n),r+=2,t({type:"comment",comment:s})}}function _(){var e=m(/^([^{]+)/);if(e)return h(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(e){return e.replace(/,/g,"‌")})).split(/\s*(?![^(]*\)),\s*/).map((function(e){return e.replace(/\u200C/g,",")}))}function C(){var e=i(),t=m(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){if(t=h(t[0]),!m(/^:\s*/))return u("property missing ':'");var n=m(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),r=e({type:"declaration",property:t.replace(p,""),value:n?h(n[0]).replace(p,""):""});return m(/^[;\s]*/),r}}function S(){var e,t=[];if(!c())return u("missing '{'");for(y(t);e=C();)!1!==e&&(t.push(e),y(t));return l()?t:u("missing '}'")}function b(){for(var e,t=[],n=i();e=m(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),m(/^,\s*/);if(t.length)return n({type:"keyframe",values:t,declarations:S()})}var M,A=O("import"),w=O("charset"),L=O("namespace");function O(e){var t=new RegExp("^@"+e+"\\s*([^;]+);");return function(){var n=i(),r=m(t);if(r){var o={type:e};return o[e]=r[1].trim(),n(o)}}}function R(){if("@"==e[0])return function(){var e=i();if(t=m(/^@([-\w]+)?keyframes\s*/)){var t,n=t[1];if(!(t=m(/^([-\w]+)\s*/)))return u("@keyframes missing name");var r,o=t[1];if(!c())return u("@keyframes missing '{'");for(var s=y();r=b();)s.push(r),s=s.concat(y());return l()?e({type:"keyframes",name:o,vendor:n,keyframes:s}):u("@keyframes missing '}'")}}()||function(){var e=i(),t=m(/^@media *([^{]+)/);if(t){var n=h(t[1]);if(!c())return u("@media missing '{'");var r=y().concat(d());return l()?e({type:"media",media:n,rules:r}):u("@media missing '}'")}}()||function(){var e=i(),t=m(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:h(t[1]),media:h(t[2])})}()||function(){var e=i(),t=m(/^@supports *([^{]+)/);if(t){var n=h(t[1]);if(!c())return u("@supports missing '{'");var r=y().concat(d());return l()?e({type:"supports",supports:n,rules:r}):u("@supports missing '}'")}}()||A()||w()||L()||function(){var e=i(),t=m(/^@([-\w]+)?document *([^{]+)/);if(t){var n=h(t[1]),r=h(t[2]);if(!c())return u("@document missing '{'");var o=y().concat(d());return l()?e({type:"document",document:r,vendor:n,rules:o}):u("@document missing '}'")}}()||function(){var e=i();if(m(/^@page */)){var t=_()||[];if(!c())return u("@page missing '{'");for(var n,r=y();n=C();)r.push(n),r=r.concat(y());return l()?e({type:"page",selectors:t,declarations:r}):u("@page missing '}'")}}()||function(){var e=i();if(m(/^@host\s*/)){if(!c())return u("@host missing '{'");var t=y().concat(d());return l()?e({type:"host",rules:t}):u("@host missing '}'")}}()||function(){var e=i();if(m(/^@font-face\s*/)){if(!c())return u("@font-face missing '{'");for(var t,n=y();t=C();)n.push(t),n=n.concat(y());return l()?e({type:"font-face",declarations:n}):u("@font-face missing '}'")}}()}function E(){var e=i(),t=_();return t?(y(),e({type:"rule",selectors:t,declarations:S()})):u("selector missing")}return f((M=d(),{type:"stylesheet",stylesheet:{source:t.source,rules:M,parsingErrors:a}}))},l.stringify=function(e,t){var n=(t=t||{}).compress?new Fe(t):new Ve(t);if(t.sourcemap){(0,w.exports)(n);var r=n.compile(e);return n.applySourceMaps(),{code:r,map:"generator"===t.sourcemap?n.map:n.map.toJSON()}}return r=n.compile(e)},function(e,t){e.exports=function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),o=n(t),i=(e="")=>{throw new Error(`[joystick] ${e}`)};const s={events:["readystatechange","pointerlockchange","pointerlockerror","beforecopy","beforecut","beforepaste","freeze","resume","search","securitypolicyviolation","visibilitychange","fullscreenchange","fullscreenerror","webkitfullscreenchange","webkitfullscreenerror","beforexrselect","abort","blur","cancel","canplay","canplaythrough","change","click","close","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","formdata","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","pause","play","playing","progress","ratechange","reset","resize","scroll","seeked","seeking","select","stalled","submit","suspend","timeupdate","toggle","volumechange","waiting","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend","wheel","auxclick","gotpointercapture","lostpointercapture","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","pointerenter","pointerleave","selectstart","selectionchange","animationend","animationiteration","animationstart","transitionrun","transitionstart","transitionend","transitioncancel","copy","cut","paste","pointerrawupdate"],lifecycle:["onBeforeMount","onMount","onBeforeUnmount"],options:["name","props","state","lifecycle","methods","events","css","render"]},a={options:["render"]},u={name:e=>{"string"!=typeof e&&i("options.name must be a string.")},lifecycle:e=>{e instanceof Object||i("options.lifecycle must be an object.");for(const[t,n]of Object.entries(e))s.lifecycle.includes(t)||i(`options.lifecycle.${t} is not supported.`),"function"!=typeof n&&i(`options.lifecycle.${t} must be assigned a function.`)},methods:e=>{e instanceof Object||i("options.methods must be an object.");for(const[t,n]of Object.entries(e))"function"!=typeof n&&i(`options.methods.${t} must be assigned a function.`)},events:e=>{e instanceof Object||i("options.events must be an object.");for(const t of Object.keys(e)){const[e]=t.split(" ");s.events.includes(e)||i(`${e} is not a supported JavaScript event type.`)}for(const[t,n]of Object.entries(e))"function"!=typeof n&&i(`options.events.${t} must be assigned a function.`)},css:e=>{"string"!=typeof e&&"function"!=typeof e&&i("options.css must be a string or function returning a string.")},render:e=>{"function"!=typeof e&&i("options.render must be a function returning a string.")}};var c=(e="")=>{let t=[],n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];for(let r=0;r<e;r++)t.push(n[Math.floor(16*Math.random())]);return t.join("")};const l=(e={})=>Object.entries(e).reduce(((e={},[t,n])=>(e[n.name]=n.value,e)),{}),p=(e=null)=>{if(e){const t=e.tagName&&e.tagName.toLowerCase()||"text";let n={tagName:t,attributes:l(e.attributes),children:[].map.call(e.childNodes,(e=>p(e)))};return"text"===t&&(n=e.textContent),n}},h=e=>"string"==typeof e?document.createTextNode(e):(({tagName:e,attributes:t,children:n})=>{const r=document.createElement(e);for(const[e,n]of Object.entries(t))r.setAttribute(e,n);for(const e of n){const t=h(e);r.appendChild(t)}return r})(e),f=(e,t)=>{const n=[];e.forEach(((e,r)=>{n.push(d(e,t[r]))}));const r=[];for(const n of t.slice(e.length))r.push((e=>(e.appendChild(h(n)),e)));return e=>{if(e){for(const[t,r]of((e,t)=>{const n=[];for(let r=0;r<Math.max(e.length,t.length);r++)n.push([e[r],t[r]]);return n})(n,e.childNodes))t&&"function"==typeof t&&t(r);for(const t of r)t&&"function"==typeof t&&t(e)}return e}},d=(e,t)=>{if(void 0===t)return e=>{e.remove()};if("string"==typeof e||"string"==typeof t)return e!==t?e=>{const n=h(t);return e.replaceWith(n),n}:e=>{};if(e.tagName!==t.tagName)return e=>{const n=h(t);return e.replaceWith(n),n};const n=((e,t)=>{const n=[];for(const[e,r]of Object.entries(t))n.push((t=>(t&&t.setAttribute(e,r),t)));for(const r in e)r in t||n.push((e=>(e&&e.removeAttribute(r),e)));return e=>{for(const t of n)t&&"function"==typeof t&&t(e)}})(e.attributes,t.attributes),r=f(e.children,t.children);return e=>(n(e),r(e),e)},m=(e,t,n)=>{if(e.hasOwnProperty(t)&&!0===n(t,e[t]))return e;for(let r=0;r<Object.keys(e).length;r++){let o=e[Object.keys(e)[r]];if("object"==typeof o&&null!=o){let o=m(e[Object.keys(e)[r]],t,n);if(null!=o)return o}}return null},g=function(e,t){const n=e(t);n.parent=this;const r=m(n.parent.ssrTree||M._internal.tree,"id",((e,t)=>t===n.parent.id));if(r&&r.children&&r.children.push({id:n.id,instance:n,children:[]}),n.parent&&n.parent.ssrTree)return n.renderToHTML(n.parent.ssrTree);const o=n.renderToDOM(),i=n.renderToHTML();return n.dom=o,n.handleAttachCSS(),n.handleAttachEvents(n.parent),i},y=function(e,t){return e.map((e=>t(e))).join("\n")};var v={c:g,component:g,e:y,each:y};const _=new RegExp(/\<\!\-\-(?:.|\n|\r)*?-->/g);class C{constructor(e={}){((e={})=>{a.options.every((t=>Object.keys(e).includes(t)))||i(`component options must include ${a.options.join(",")}.`);for(const[t,n]of Object.entries(e)){s.options.includes(t)||i(`${t} is not supported by joystick.component.`);const e=u[t];e&&"function"==typeof e&&e(n)}})(e),this.id=c(8),this.dom={virtual:{},actual:{}},this.options=e||{},this.name="",this.props=e.props||{},this.state={},this.lifecycle={onBeforeMount:()=>null,onMount:()=>null,onBeforeUnmount:()=>null},this.methods={},this.events={},this.css="",this.children=[],this.handleAttachOptionsToInstance()}handleSetProps(e){this.props=e}handleAttachOptionsToInstance(){this.handleAttachState(this.options?.state),this.handleAttachLifecycleMethods(this.options?.lifecycle),this.handleAttachMethods(this.options?.methods)}handleAttachState(e={}){this.state=Object.assign({},e)}handleAttachLifecycleMethods(e={}){this.lifecycle=Object.entries(e).reduce(((e={},[t,n])=>(e[t]=()=>n(this),e)),{})}handleAttachMethods(e={}){this.methods=Object.entries(e).reduce(((e={},[t,n])=>(e[t]=(...e)=>n(...e,this),e)),{})}handleAttachEvents(e=null){const t=((e={})=>Object.entries(e).map((([e,t])=>{const[n,r]=e.split(" ");return{type:n.toLowerCase(),selector:r,handler:t}})))(this.options?.events),n=this;if(this.lifecycle&&this.lifecycle.onBeforeUnmount&&"function"==typeof this.lifecycle.onBeforeUnmount){const e=function(){n.lifecycle.onBeforeUnmount(n)};window.removeEventListener("beforeunload",e),window.addEventListener("beforeunload",e)}t.forEach((t=>{M._internal.eventListeners.queue.array.push({callback:()=>{const r=document.querySelector(`[js-c="${this.id}"] ${t.selector}`);r&&(({id:e,parentId:t,element:n,eventType:r,eventListener:o})=>{n||i("Must pass an element to addEventListener."),r||i("Must pass an eventType to addEventListener."),o||i("Must pass an eventListener to addEventListener."),n.addEventListener(r,o),M._internal.eventListeners.attached.push({id:e,eventId:c(8),parentId:t,element:n,eventType:r,eventListener:o})})({id:this.id,parentId:e?.id,element:r,eventType:t.type,eventListener:function(e){Object.defineProperty(e,"target",{value:e.composedPath()[0]}),t.handler(e,n)}})}})}))}handleDetachEvents(){const e=M._internal.eventListeners.attached.filter((({id:e,parentId:t})=>e===this.id||t===this.id)),t=e.map((({eventId:e})=>e));((e=[])=>{for(const t of e)t.element&&t.eventType&&t.eventListener&&t.element.removeEventListener(t.eventType,t.eventListener)})(e),M._internal.eventListeners.attached=M._internal.eventListeners.attached.filter((({eventId:e})=>!t.includes(e)))}handleAttachCSS(){const e=this.handleCompileCSS();if(e){const t=btoa(e.trim()).substring(0,8),n=document.head.querySelector(`[js-css="${t}"]`);n&&document.head.removeChild(n);const r=document.createElement("style");r.innerHTML=this.handlePrefixCSS(this.options.css,this.id),r.setAttribute("js-css",t),document.head.appendChild(r)}}handleCompileCSS(){return this.options?.css&&"string"==typeof this.options?.css?this.options.css:this.options?.css&&"function"==typeof this.options?.css?this.options.css(this):""}handlePrefixCSS(e="",t=""){const n=this.handleGetCSSRules(e);return Object.entries(n).map((([e,t])=>t.cssText)).map((e=>`[js-c="${t}"] ${e}`)).join("\n")}handleGetCSSRules(e=""){const t=document.implementation.createHTMLDocument(""),n=document.createElement("style");return n.textContent=e,t.body.appendChild(n),n.sheet.cssRules}handleOnBeforeMount(){this.options.lifecycle&&this.options.lifecycle.onBeforeMount&&this.options.lifecycle.onBeforeMount(this)}handleOnMount(){this.options.lifecycle&&this.options.lifecycle.onMount&&this.options.lifecycle.onMount(this)}handleWrapHTMLForRender(e=""){return`<div js-c="${this.id}">${e}</div>`}render(e={}){const t=this.renderToDOM();if(e&&e.mounting)return this.dom=t,t;const n=d(this.dom.virtual,t.virtual);n&&"function"==typeof n&&(this.handleDetachEvents(),this.dom.actual=n(this.dom.actual),this.dom.virtual=t.virtual,this.handleAttachCSS(),this.handleAttachEvents(),M._internal.eventListeners.queue.process())}handleSanitizeHTML(e=""){let t=`${e}`;return(t.match(_)||[]).forEach((e=>{t=t.replace(e,"")})),t}renderToHTML(e=null){const t=this.options.render({...this,...Object.entries(v).reduce(((t,[n,r])=>(t[n]=r.bind({...this,ssrTree:e}),t)),{})}),n=this.handleSanitizeHTML(t);return this.handleWrapHTMLForRender(n)}renderToDOM(){const e=this.renderToHTML(),t=p(((e="")=>{if(e&&"string"==typeof e){const t=document.createElement("div");return t.setAttribute("js-t",""),t.setAttribute("id","app"),t.innerHTML=e,t}return null})(e));return{virtual:t,actual:h(t)}}setState(e={}){this.state=Object.assign(this.state,e),this.render()}}const S=(e,t)=>{const n=((e="",t="")=>{const n=o.default.parse(t);return n&&n.stylesheet&&n.stylesheet.rules?{...n,stylesheet:{...n.stylesheet,rules:n.stylesheet.rules.map((t=>({...t,selectors:t.selectors.map((t=>`[js-c="${e}"] ${t}`))})))}}:{}})(e,t);return o.default.stringify(n)},b=(e={},t=[])=>{if(e.instance&&e.instance.options&&e.instance.options.css){const n=e.instance.id,r=e.instance.options.css,o=S(n,r);t.push(o)}return e.children&&e.children.length>0&&e.children.forEach((e=>{b(e,t)})),t},M={_internal:{eventListeners:{attached:[],queue:new class{constructor(e=[]){this.array=[...e],this.array.push=function(){Array.prototype.push.apply(this,arguments)}}async process(){if(this.array.length>0){const e=this.array.shift();e&&e.callback&&(await e.callback(),this.process())}}}([])},tree:{}},component:(e={})=>t=>new C({...e,props:t}),css:(e="")=>{const t=document.querySelectorAll("[js-global-css], [js-css]");[].forEach.call(t,(e=>{e.parentElement.removeChild(e)}));const n=document.createElement("style");n.setAttribute("js-global-css",""),n.innerHTML=e,document.head.appendChild(n)},mount:(e,t={},n)=>{const r=e(t);M._internal.tree={id:r.id,instance:r,children:[]},r.handleSetProps(t),r.handleOnBeforeMount(),((e,t)=>{t.replaceWith(e)})(r.render({mounting:!0}).actual,n),r.handleAttachCSS(),r.handleAttachEvents(),M._internal.eventListeners.queue.process(),r.handleOnMount()},ssr:(e,t={})=>{const n=e(t),o={id:n.id,instance:n,children:[]},i=r.default.readFileSync(`${process.cwd()}/index.html`,"utf-8"),s=n.renderToHTML(o),a=((e=[])=>{const t=e.join("")||"";return`<style js-css="${btoa(t.trim()).substring(0,8)}">${t.trim()}</style>`})(b(o));return i.replace("${meta}","").replace("${css}",a).replace("${scripts}","").replace('<div id="app"></div>',`<div id="app">${s}</div>`)}};return M}(i.default,l)}(c);return c.exports.component({render:({props:e})=>`\n      <p>A password reset was requested for this email address (${e.emailAddress}). If you requested this reset, click the link below to reset your password:</p>\n      <p><a href="${e.url}">Reset Password</a></p>\n    `})}));
