"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=e(require("chalk"));module.exports=class{constructor(e={}){this.message=e.defaultMessage,this.frame=0,this.frames=[t.default.yellowBright(">>-----"),t.default.yellowBright("->>----"),t.default.yellowBright("--\x3e>---"),t.default.yellowBright("---\x3e>--"),t.default.yellowBright("----\x3e>-"),t.default.yellowBright("-----\x3e>"),t.default.yellowBright("----<<-"),t.default.yellowBright("---<<--"),t.default.yellowBright("--<<---"),t.default.yellowBright("-<<----"),t.default.yellowBright("<<-----")],this.freezeFrames={stable:t.default.yellowBright("---\x3e---"),error:t.default.redBright("!!!")}}getFrame(){return this.frame===this.frames.length-1?(this.frame=0,this.frame):(this.frame+=1,this.frame)}start(e=""){e&&(this.message=e),this.interval=setInterval((()=>{const e=this.getFrame();process.stdout.cursorTo(0),process.stdout.write(`${this.frames[e]} ${this.message}`)}),80)}stop(){clearInterval(this.interval),process.stdout.cursorTo(0),process.stdout.clearLine(),this.message="",this.interval=null}text(e=""){process.stdout.clearLine(),e&&(this.message=e),this.interval||this.start()}pause(e="",t="stable"){process.stdout.clearLine(),e&&(this.message=e),clearInterval(this.interval),this.interval=null;const s=this.freezeFrames[t];process.stdout.cursorTo(0),process.stdout.write(`${s?`${s} `:""}${this.message}`)}stable(e=""){this.pause(e)}error(e=""){this.pause(e,"error")}};
