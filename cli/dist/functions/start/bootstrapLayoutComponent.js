"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=e(require("chalk"));const n=new RegExp(/export default [a-zA-Z0-9]+/g);module.exports=()=>({transform(e,o){if(["layouts"].some((e=>o.includes(e)))){const s=e.match(n)||[],l=s&&s[0];if(!l)return console.log(" "),console.warn(t.default.yellowBright(`All components in the ui/layouts directory must have an export default statement (e.g., export default MyLayout). Please check the file at ${o}.`)),console.log(" "),null;const a=(l&&l.split(" ")||[]).pop();if(a)return{code:e.replace(`${l};`,`if (\n                typeof window !== 'undefined' &&\n                window.__joystick_ssr__ === true &&\n                window.__joystick_layout_page__ &&\n                ui &&\n                ui.mount\n              ) {\n                fetch(window.__joystick_layout_page_url__).then(async (response) => {\n                  const file = await response.text();\n                  const component = eval(file);\n                  ui.mount(${a}, Object.assign({ ...window.__joystick_ssr_props__ }, { page: window[window.__joystick_layout_page__].js }), document.getElementById('app'));\n                });\n              }\n            \n            export default ${a};\n              `)}}return null}});
