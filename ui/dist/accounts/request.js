var l=(o=null)=>({authenticated:"GET"})[o]||"POST",d=(o="")=>({authenticated:"authenticated",signup:"signup",login:"login",logout:"logout",recoverPassword:"recover-password",resetPassword:"reset-password"})[o],u=(o="",s={})=>{if(fetch)return new Promise((a,i)=>{let c=l(o),r=d(o);return fetch(`${window.location.origin}/api/_accounts/${r}`,{method:c,mode:"cors",headers:{"Content-Type":"application/json"},body:c==="POST"?JSON.stringify({...s,origin:window?.location?.origin}):null,credentials:"include"}).then(async t=>{let e=await t.json();return e&&e.errors?(console.log(`%c\u274C accounts.${o} request failed with the following errors:`,'background-color: #ffcc00; padding: 7px; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 11px; line-height: 10px; color: #000;'),e.errors.forEach(n=>{console.log(n.message),n.stack&&console.log(n.stack)}),i(e)):(a(e),e)}).catch(t=>(console.log(`%c\u274C accounts.${o} request failed with the following network error:`,'background-color: #ffcc00; padding: 7px; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 15px; line-height: 15px; color: #000;'),console.log(t),i(t),t))})};export{u as default};
