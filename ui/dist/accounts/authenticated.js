var u=(e=null)=>({authenticated:"GET",user:"GET"})[e]||"POST",d=(e="")=>({authenticated:"authenticated",user:"user",signup:"signup",login:"login",logout:"logout",recoverPassword:"recover-password",resetPassword:"reset-password"})[e],i=(e="",n={})=>{if(fetch)return new Promise((c,r)=>{let a=u(e),l=d(e);return fetch(`${window.location.origin}/api/_accounts/${l}`,{method:a,mode:"cors",headers:{"Content-Type":"application/json"},body:a==="POST"?JSON.stringify({...n,origin:window?.location?.origin}):null,credentials:"include"}).then(async o=>{let t=await o.json();return t&&t.errors?(console.log(`%c\u274C accounts.${e} request failed with the following errors:`,'background-color: #ffcc00; padding: 7px; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 11px; line-height: 10px; color: #000;'),t.errors.forEach(s=>{console.log(s.message),s.stack&&console.log(s.stack)}),r(t)):(c(t),t)}).catch(o=>(console.log(`%c\u274C accounts.${e} request failed with the following network error:`,'background-color: #ffcc00; padding: 7px; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 15px; line-height: 15px; color: #000;'),console.log(o),r(o),o))})};var h=async(e={})=>{let n=await i("authenticated",e);return n?.status===200&&n?.authenticated};export{h as default};
