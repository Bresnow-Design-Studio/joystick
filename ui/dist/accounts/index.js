var w=(e=null)=>({authenticated:"GET",user:"GET"})[e]||"POST",q=(e="")=>({authenticated:"authenticated",user:"user",signup:"signup",login:"login",logout:"logout",recoverPassword:"recover-password",resetPassword:"reset-password"})[e],t=(e="",r={})=>{if(fetch)return new Promise((g,a)=>{let i=w(e),h=q(e);return fetch(`${window.location.origin}/api/_accounts/${h}`,{method:i,mode:"cors",headers:{"Content-Type":"application/json"},body:i==="POST"?JSON.stringify({...r,origin:window?.location?.origin}):null,credentials:"include"}).then(async s=>{let o=await s.json();return o&&o.errors?(console.log(`%c\u274C accounts.${e} request failed with the following errors:`,'background-color: #ffcc00; padding: 7px; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 11px; line-height: 10px; color: #000;'),o.errors.forEach(n=>{console.log(n.message),n.stack&&console.log(n.stack)}),a(o)):(g(o),o)}).catch(s=>(console.log(`%c\u274C accounts.${e} request failed with the following network error:`,'background-color: #ffcc00; padding: 7px; font-family: "Helvetica Neue", "Helvetica", "Arial", sans-serif; font-size: 15px; line-height: 15px; color: #000;'),console.log(s),a(s),s))})};var u=async(e={})=>{let r=await t("authenticated",e);return r?.status===200&&r?.authenticated};var c=async(e={})=>{let r=await t("user",e);return r?.status===200&&r?.user};var l=(e={})=>t("signup",e);var f=(e={})=>t("login",e);var d=()=>t("logout");var p=(e={})=>t("recoverPassword",e);var m=(e={})=>t("resetPassword",e);var B={authenticated:u,user:c,signup:l,login:f,logout:d,recoverPassword:p,resetPassword:m};export{B as default};
