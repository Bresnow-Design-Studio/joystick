var o=(t="",e={})=>{throw new Error(`[joystick${t?`.${t}`:""}] ${e.message||e.reason||e}`)};var a=t=>{try{return typeof t=="function"}catch(e){o("types.isFunction",e)}};var y=t=>{try{return typeof t=="string"}catch(e){o("types.isString",e)}};var m=(t={},e={})=>{try{return t&&y(t)?t:t&&a(t)?t(e):""}catch(r){o("component.css.compile",r)}};var l=(t="")=>{try{let e=document.implementation.createHTMLDocument(""),r=document.createElement("style");return r.textContent=t,e.body.appendChild(r),r.sheet.cssRules}catch(e){o("component.css.prefix.getCSSRules",e)}},u=(t="",e="")=>{try{let r=l(t);return Object.entries(r).map(([s,p])=>p).map(s=>{if(s.constructor.name==="CSSStyleRule")return`[js-c="${e}"] ${s.cssText}`;if(s.constructor.name==="CSSMediaRule")return`
          @media ${s.conditionText} {
            ${Object.entries(s.cssRules).map(([p,n])=>`[js-c="${e}"] ${n.cssText}`).join(`
`)}
          }
        `}).join(`
`)}catch(r){o("component.css.prefix",r)}};var C=(t={})=>{try{let e=t?.options?.css,r=m(t,e),i=btoa(`${r.trim()}`).substring(0,8),c=document.head.querySelector(`style[js-c="${t.id}"]`),s=document.head.querySelector(`[js-css="${i}"]`);if(c&&!s&&document.head.removeChild(c),!c||!s){let n=document.createElement("style");n.innerHTML=u(e,t?.id),n.setAttribute("js-c",t?.id),n.setAttribute("js-c-parent",t?.parent?.id),n.setAttribute("js-css",i),document.head.appendChild(n)}}catch(e){o("component.css.appendToHead",e)}};export{C as default};
